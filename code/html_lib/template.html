<div class="row">

	<!-- Earnings (Monthly) Card Example -->

	<div class="col-xl-6 col-md-6 mb-4">
		<div class="card border-left-primary shadow h-100 py-2">
			<div class="card-body">
				<div class="row no-gutters align-items-center">
					<div class="col mr-2">
						<div class="text-xs text-uppercase mb-1">
							推定市場年収</div>
						<div class="h4 mb-0 font-weight-bold text-success text-gray-800">{{ basic["money"] }}<small class="text-dark h6">万円/年 ~ </small>{{ basic["overtime"] }}<small class="text-dark h6">万円/年</small> </div>
					</div>
					<div class="col-auto">
						<i class="fas fa-calendar fa-2x text-gray-300"></i>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Pending Requests Card Example -->
	<div class="col-xl-6 col-md-6 mb-4">
		<div class="card border-left-warning shadow h-100 py-2">
			<div class="card-body">
				<div class="row no-gutters align-items-center">
					<div class="col mr-2">
						<div class="text-xs text-uppercase mb-1">
							おすすめ度(5段階評価)</div>
						<div class="h5 mb-0 font-weight-bold text-gray-800 text-warning"> {{ stars }} </div>
					</div>
					<div class="col-auto">
						<i class="fas fa-comments fa-2x text-gray-300"></i>
					</div>
				</div>
			</div>
		</div>
	</div>


	<div class="col-lg-12 mb-4 h-100">
		<!-- Illustrations -->
		<div class="card shadow mb-4">
			<div class="card-header py-3">
				<h6 class="m-0 font-weight-bold text-primary">{{ name }}の年収</h6>
			</div>
			<div class="card-body">
				<!--
				<div class="text-center">
					<img class="img-fluid px-3 px-sm-4 mt-3 mb-4" style="width: 25rem;" src="img/undraw_posting_photo.svg" alt="...">
				</div>
				-->
				<p>
					{{ md_money }}
				</p>
				<a target="_blank" rel="nofollow" href="#money_distribution_graph">
					年収分布表を確認する
				</a>
			</div>
		</div>
	</div>

		<!-- Earnings (Monthly) Card Example -->
		<div class="col-xl-6 col-md-6 mb-4">
			<div class="card border-left-success shadow h-100 py-2">
				<div class="card-body">
					<div class="row no-gutters align-items-center">
						<div class="col mr-2">
							<div class="text-xs font-weight-bold primary-text text-uppercase mb-1">
								求人件数</div>
							<div class="h5 mb-0 font-weight-bold text-gray-800">{{ basic["count"] }} 件</div>
						</div>
						<div class="col-auto">
							<i class="fas fa-dollar-sign fa-2x text-gray-300"></i>
						</div>
					</div>
				</div>
			</div>
		</div>
	
		<!-- Earnings (Monthly) Card Example -->
		<div class="col-xl-6 col-md-6 mb-4">
			<div class="card border-left-info shadow h-100 py-2">
				<div class="card-body">
					<div class="row no-gutters align-items-center">
						<div class="col mr-2">
							<div class="text-xs font-weight-bold text-info  mb-1">リモート普及率
							</div>
							<div class="row no-gutters align-items-center">
								<div class="col-auto">
									<div class="h5 mb-0 mr-3 font-weight-bold text-uppercase text-gray-800">{{ basic["remote"] }}%</div>
								</div>
								<div class="col">
									<div class="progress progress-sm mr-2">
										<div class="progress-bar bg-info" role="progressbar" style="width: {{ basic["remote"] }}%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-auto">
							<i class="fas fa-clipboard-list fa-2x text-gray-300"></i>
						</div>
					</div>
				</div>
			</div>
		</div>

</div>


<h2>{{ name }}の評価 </h2>


<div class="row">
	<!-- Area Chart -->
	<div class="col-xl-12 col-lg-7">
		<div class="card shadow mb-4">
			<!-- Card Header - Dropdown -->
			<div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
				<h6 class="m-0 font-weight-bold text-primary">Earnings Overview</h6>
			</div>
			<!-- Card Body -->
			<div class="card-body">
				<div class="chart-area"><div class="chartjs-size-monitor"><div class="chartjs-size-monitor-expand"><div class=""></div></div><div class="chartjs-size-monitor-shrink"><div class=""></div></div></div>
					<!--                               
					<canvas id="myAreaChart" style="display: block; height: 320px; width: 571px;" width="1142" height="640" class="chartjs-render-monitor"></canvas>
					-->

					<div class="row">
						<!-- Area Chart -->
						<div class="col-xl-6 col-lg-6">
							<canvas id="abilityChart" width="350" height="250"></canvas>
						</div>

						<div class="col-xl-6 col-lg-6">
							<table style="border:none;">
								<tr>
									<td>
										下限年収
									</td>
									<td>
										{{basic["money"] }} <br>万円 / 年
									</td>
								</tr>
								<tr>
									<td>
										上限年収
									</td>
									<td>
										{{ basic["overtime"] }} <br>万円 / 年
									</td>
								</tr>
								<tr>
									<td>
										フォロワー数(Qiita)
									</td>
									<td>
										{{ basic["qiita_score"] }} 人
									</td>
								</tr>
								<tr>
									<td>
										リモート率
									</td>
									<td>
										{{ basic["remote"] }} %
									</td>
								</tr>
								<tr>
									<td>
										求人件数
									</td>
									<td>
										{{ basic["count"] }} 件
									</td>
								</tr>
							</table>
						</div>


						<div class="col-xl-12 col-lg-12">
							<p>
								{{ md_value }}
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

</div>






<h2 id="money_distribution_graph">{{ name }}の年収分布</h2>

<div class="row">
	<!-- Area Chart -->
	<div class="col-xl-12 col-lg-7">
		<div class="card shadow mb-4">
			<!-- Card Header - Dropdown -->
			<div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
				<h6 class="m-0 font-weight-bold text-primary">Earnings Overview</h6>
			</div>
			<!-- Card Body -->
			<div class="card-body">
				<div class="chart-area"><div class="chartjs-size-monitor"><div class="chartjs-size-monitor-expand"><div class=""></div></div><div class="chartjs-size-monitor-shrink"><div class=""></div></div></div>
					<!--                               
					<canvas id="myAreaChart" style="display: block; height: 320px; width: 571px;" width="1142" height="640" class="chartjs-render-monitor"></canvas>
					-->

					<div><canvas id="chart1"></canvas></div>
					<p>
						{{ md_money_array }}
					</p>
				</div>
			</div>
		</div>
	</div>
</div>


<script>
	var backgroundColor = "#1ABB9C" // Green
	var backgroundGray = 'rgba(33, 37, 41, 0.3)'
	var label_colors = {
		"money" :"#00204a",
		"overtime" : "#1ABB9C",
		"qiita_score" : "#005792",
		"remote" : "#00bbf0",
		"count" : "#42b883"
	}
	// ボタンをクリック
	window.onload = function(){
		labels = ['100万', '200万', '300万','400万', '500万', '600万', '700万', '800万', '900万', '1000万']
		data1 = {{ money_countlist['lower'] }}
		data2 = {{ money_countlist['upper'] }}
		DrawChart(labels, data1, data2); // グラフを再描画
		DrawPorChart();
	}

	// グラフ描画処理
	function DrawChart(labels, data1, data2) {
		var ctx = document.getElementById('chart1').getContext('2d');
		window.myChart = new Chart(ctx, {
		type: 'bar',
		data: {
			labels: labels,
			datasets: [{
			label: '下限年収 (件)',
			data: data1,
			backgroundColor: label_colors.money
			}, {
			label: '上限年収 (件)',
			data: data2,
			backgroundColor: label_colors.overtime
			}]
		},
		options: {
			y: {
			min: 0,
			max: 15000,
			},
		},
		});
	}

	function DrawPorChart(){
		var LABEL_MASTER = [
			{
				"key" : "money",
				"name" : "下限年収"
			},
			{
				"key" : "overtime",
				"name" : "上限年収"
			},
			{
				"key" : "qiita_score",
				"name" : "フォロワー数(Qiita)"
			},
			{
				"key" : "remote",
				"name" : "リモート率"
			},
			{
				"key" : "count",
				"name" : "求人件数"
			}
		]
		var labelname = "{{ name }}"
		var score_100 = {{ score_100 }}
		var data = LABEL_MASTER.map((row)=>( Math.round(score_100[row.key]) ))
		var labels = LABEL_MASTER.map((row)=>row.name)

		var ctx = document.getElementById("abilityChart");
		var myRadarChart = new Chart(ctx, {
			type: 'radar', 
			data: { 
				labels: labels,
				datasets: [{
					label: labelname,
					data: data,
					backgroundColor: backgroundGray,
					//borderColor: backgroundColor,
					borderColor: '#1ABB9C',
					borderWidth: 1
				}],
				color: "rgba(33, 37, 41, 0.3)",
			},
			options: {
				elements: {
					line: {
						borderWidth: 3
					}
				},
				maintainAspectRatio: false,
				scale: {
					ticks: {
						// 最小値の値を0指定
						beginAtZero: true,
						min: 0,
            			stepSize: 20,
						max: 100,
						//背景色
						backgroundColor: 'snow',
						//グリッドライン
						grid: {
						color: '#1ABB9C',
						},
						//アングルライン
						angleLines: {
						color: '#1ABB9C',
						},
						//各項目のラベル
						pointLabels: {
						color: '#1ABB9C',
						},
					},
				}
			}
		});
	}
</script>






<div class="row">
	<div class="col-12">
		<div class="card card-margin">
			<div class="card-body">
				<div class="row search-body">
					<div class="col-lg-12">
						<div class="search-result">
							<div class="result-header">
								<div class="row">
									<div class="col-lg-6">
										<div class="records">Showing: <b>1-20</b> of <b>200</b> result</div>
									</div>
									<div class="col-lg-6">
										<div class="result-actions">
											<div class="result-sorting">
												<span>Sort By:</span>
												<select class="form-control border-0" id="exampleOption">
													<option value="1">Relevance</option>
													<option value="2">Names (A-Z)</option>
													<option value="3">Names (Z-A)</option>
												</select>
											</div>
											<div class="result-views">
												<button type="button" class="btn btn-soft-base btn-icon">
													<svg
														xmlns="http://www.w3.org/2000/svg"
														width="24"
														height="24"
														viewBox="0 0 24 24"
														fill="none"
														stroke="currentColor"
														stroke-width="2"
														stroke-linecap="round"
														stroke-linejoin="round"
														class="feather feather-list"
													>
														<line x1="8" y1="6" x2="21" y2="6"></line>
														<line x1="8" y1="12" x2="21" y2="12"></line>
														<line x1="8" y1="18" x2="21" y2="18"></line>
														<line x1="3" y1="6" x2="3" y2="6"></line>
														<line x1="3" y1="12" x2="3" y2="12"></line>
														<line x1="3" y1="18" x2="3" y2="18"></line>
													</svg>
												</button>
												<button type="button" class="btn btn-soft-base btn-icon">
													<svg
														xmlns="http://www.w3.org/2000/svg"
														width="24"
														height="24"
														viewBox="0 0 24 24"
														fill="none"
														stroke="currentColor"
														stroke-width="2"
														stroke-linecap="round"
														stroke-linejoin="round"
														class="feather feather-grid"
													>
														<rect x="3" y="3" width="7" height="7"></rect>
														<rect x="14" y="3" width="7" height="7"></rect>
														<rect x="14" y="14" width="7" height="7"></rect>
														<rect x="3" y="14" width="7" height="7"></rect>
													</svg>
												</button>
											</div>
										</div>
									</div>
								</div>
							</div>

							<div class="result-body">
								<div class="table-responsive">
									<table class="table widget-26">
										<tbody>
											{% for row in jobs %}
											<tr>
												<td>
													<div class="widget-26-job-title">
														<a href="#">{{ row.title }}</a>
														<p class="m-0"><a href="#" class="employer-name">{{ row.company }}</a> <span class="text-muted time">1 days ago</span></p>
													</div>
												</td>
												<td>
													<div class="widget-26-job-info">
														<p class="text-muted m-0">in <span class="location">{{ row.locations }}</span></p>
													</div>
												</td>
												<td>
													<div class="widget-26-job-salary">{{ row.salary }}</div>
												</td>
											</tr>
											{% endfor %}
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
				</div>
				<nav class="d-flex justify-content-center">
					<ul class="pagination pagination-base pagination-boxed pagination-square mb-0">
						<li class="page-item">
							<a class="page-link no-border" href="#">
								<span aria-hidden="true">«</span>
								<span class="sr-only">Previous</span>
							</a>
						</li>
						<li class="page-item active"><a class="page-link no-border" href="#">1</a></li>
						<li class="page-item"><a class="page-link no-border" href="#">2</a></li>
						<li class="page-item"><a class="page-link no-border" href="#">3</a></li>
						<li class="page-item"><a class="page-link no-border" href="#">4</a></li>
						<li class="page-item">
							<a class="page-link no-border" href="#">
								<span aria-hidden="true">»</span>
								<span class="sr-only">Next</span>
							</a>
						</li>
					</ul>
				</nav>
			</div>
		</div>
	</div>
</div>


<style>

.widget-26 {
  color: #3c4142;
  font-weight: 400;
}

.widget-26 tr:first-child td {
  border: 0;
}

.widget-26 .widget-26-job-emp-img img {
  width: 35px;
  height: 35px;
  border-radius: 50%;
}

.widget-26 .widget-26-job-title {
  min-width: 200px;
}

.widget-26 .widget-26-job-title a {
  font-weight: 400;
  font-size: 0.875rem;
  color: #3c4142;
  line-height: 1.5;
}

.widget-26 .widget-26-job-title a:hover {
  color: #68CBD7;
  text-decoration: none;
}

.widget-26 .widget-26-job-title .employer-name {
  margin: 0;
  line-height: 1.5;
  font-weight: 400;
  color: #3c4142;
  font-size: 0.8125rem;
  color: #3c4142;
}

.widget-26 .widget-26-job-title .employer-name:hover {
  color: #68CBD7;
  text-decoration: none;
}

.widget-26 .widget-26-job-title .time {
  font-size: 12px;
  font-weight: 400;
}

.widget-26 .widget-26-job-info {
  min-width: 100px;
  font-weight: 400;
}

.widget-26 .widget-26-job-info p {
  line-height: 1.5;
  color: #3c4142;
  font-size: 0.8125rem;
}

.widget-26 .widget-26-job-info .location {
  color: #3c4142;
}

.widget-26 .widget-26-job-salary {
  min-width: 70px;
  font-weight: 400;
  color: #3c4142;
  font-size: 0.8125rem;
}

.widget-26 .widget-26-job-category {
  padding: .5rem;
  display: inline-flex;
  white-space: nowrap;
  border-radius: 15px;
}

.widget-26 .widget-26-job-category .indicator {
  width: 13px;
  height: 13px;
  margin-right: .5rem;
  float: left;
  border-radius: 50%;
}

.widget-26 .widget-26-job-category span {
  font-size: 0.8125rem;
  color: #3c4142;
  font-weight: 600;
}

.widget-26 .widget-26-job-starred svg {
  width: 20px;
  height: 20px;
  color: #fd8b2c;
}

.widget-26 .widget-26-job-starred svg.starred {
  fill: #fd8b2c;
}
.bg-soft-base {
  background-color: #e1f5f7;
}
.bg-soft-warning {
    background-color: #fff4e1;
}
.bg-soft-success {
    background-color: #d1f6f2;
}
.bg-soft-danger {
    background-color: #fedce0;
}
.bg-soft-info {
    background-color: #d7efff;
}


.search-form {
  width: 80%;
  margin: 0 auto;
  margin-top: 1rem;
}

.search-form input {
  height: 100%;
  background: transparent;
  border: 0;
  display: block;
  width: 100%;
  padding: 1rem;
  height: 100%;
  font-size: 1rem;
}

.search-form select {
  background: transparent;
  border: 0;
  padding: 1rem;
  height: 100%;
  font-size: 1rem;
}

.search-form select:focus {
  border: 0;
}

.search-form button {
  height: 100%;
  width: 100%;
  font-size: 1rem;
}

.search-form button svg {
  width: 24px;
  height: 24px;
}

.search-body {
  margin-bottom: 1.5rem;
}

.search-body .search-filters .filter-list {
  margin-bottom: 1.3rem;
}

.search-body .search-filters .filter-list .title {
  color: #3c4142;
  margin-bottom: 1rem;
}

.search-body .search-filters .filter-list .filter-text {
  color: #727686;
}

.search-body .search-result .result-header {
  margin-bottom: 2rem;
}

.search-body .search-result .result-header .records {
  color: #3c4142;
}

.search-body .search-result .result-header .result-actions {
  text-align: right;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.search-body .search-result .result-header .result-actions .result-sorting {
  display: flex;
  align-items: center;
}

.search-body .search-result .result-header .result-actions .result-sorting span {
  flex-shrink: 0;
  font-size: 0.8125rem;
}

.search-body .search-result .result-header .result-actions .result-sorting select {
  color: #68CBD7;
}

.search-body .search-result .result-header .result-actions .result-sorting select option {
  color: #3c4142;
}

@media (min-width: 768px) and (max-width: 991.98px) {
  .search-body .search-filters {
    display: flex;
  }
  .search-body .search-filters .filter-list {
    margin-right: 1rem;
  }
}

.card-margin {
    margin-bottom: 1.875rem;
}

@media (min-width: 992px){
.col-lg-2 {
    flex: 0 0 16.66667%;
    max-width: 16.66667%;
}
}

.card-margin {
    margin-bottom: 1.875rem;
}
.card {
    border: 0;
    box-shadow: 0px 0px 10px 0px rgba(82, 63, 105, 0.1);
    -webkit-box-shadow: 0px 0px 10px 0px rgba(82, 63, 105, 0.1);
    -moz-box-shadow: 0px 0px 10px 0px rgba(82, 63, 105, 0.1);
    -ms-box-shadow: 0px 0px 10px 0px rgba(82, 63, 105, 0.1);
}
.card {
    position: relative;
    display: flex;
    flex-direction: column;
    min-width: 0;
    word-wrap: break-word;
    background-color: #ffffff;
    background-clip: border-box;
    border: 1px solid #e6e4e9;
    border-radius: 8px;
}











</style>

